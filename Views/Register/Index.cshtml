@model IririFinalProject.Models.RegisterModel
@{
    Layout = null;
}

<!DOCTYPE html>
<script src="https://unpkg.com/sweetalert@2.1.0/dist/sweetalert.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/sweetalert2@10.10.1/dist/sweetalert2.min.css'>
<html>

<head>
    <meta charset="utf-8">
    <title>RegistrationForm_v3 by Colorlib</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- MATERIAL DESIGN ICONIC FONT -->
    <link rel="stylesheet" href="~/Register/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Benne&display=swap" rel="stylesheet">
    

    <!-- STYLE CSS -->
    <link rel="stylesheet" href="~/Register/css/style.css">
</head>

<body>

    <div class="wrapper"
         style="background-image: url(https://images.pexels.com/photos/1181438/pexels-photo-1181438.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);">
        <div class="inner">
            <form id="RegForm">
                <a href="/Home" style="text-decoration: none; ">
                    <h3 style="color:#0d550c;
        font-family: 'Open Sans'" >The Iriri Dinig Club </h3>
                </a>
                <div class="form-group">
                    <div class="form-wrapper">
                        <label for="">First name:</label>
                        <div class="form-holder">
                            <i class="zmdi zmdi-account-o"></i>
                            <input type="text" name="FirstName" value="" class="form-control">
                        </div>
                    </div>
                    <div class="form-wrapper">
                        <label for="">Last name:</label>
                        <div class="form-holder">
                            <i class="zmdi zmdi-account-o"></i>
                            <input type="text" name="LastName" value="" class="form-control">
                            <input type="" name="Plan" value="@ViewBag.package" id="package" style="display:none;" />
                        </div>
                    </div>

                </div>
                <div class="form-group">
                    <div class="form-wrapper">
                        <label for="">Email:</label>
                        <div class="form-holder">
                            <i class="zmdi zmdi-email"></i>
                            @*<i style="font-style: normal; font-size: 15px;"></i>*@
                            <input type="email" name="MemberEmail" value="" class="form-control">
                        </div>
                    </div>
                    <div class="form-wrapper">
                        <label for=""> Phone Number</label>
                        <div class="form-holder">
                            <i class="zmdi zmdi-lock-outline"></i>
                            <input type="number" name="MemberPhone" value="" class="form-control" placeholder="Phone Number">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-wrapper">
                        <label for="">Gender:</label>
                        <div class="form-holder select">
                            <select name="Gender" id="" class="form-control">
                                <option value="male">Male</option>
                                <option value="femal">Female</option>
                                <option value="other">Other</option>
                            </select>
                            <i class="zmdi zmdi-face"></i>
                        </div>
                    </div>
                    <div class="form-wrapper">
                        <label for="">Date of Birth</label>
                        <div class="form-holder">
                            <input type="Date" name="DOB" value="" class="form-control" placeholder="jul 20">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-wrapper">
                        <label for="">Occupation:</label>
                        <div class="form-holder">
                            <i aria-hidden="true" class="zmdi zmdi-calendar"></i>
                            <input type="text" name="Occupation" value="" class="form-control" placeholder="Occupation">
                        </div>
                    </div>

                    <div class="form-wrapper">
                        <label for="">Address:</label>
                        <div class="form-holder">
                            <i aria-hidden="true" class="fa-location-arrow"></i>
                            <input type="text" name="MemberAddress" value="" class="form-control" placeholder="Address">
                        </div>
                    </div>

                </div>
                <div class="form-end">
                    <div class="checkbox">
                        <span>already have an account? <a href="/Login">Login</a> </span>
                    </div>
                    <div class="button-holder">
                        <button type="button" id="sweet-alert-demo" onclick="submitform()">Register Now</button>
                    </div>

                </div>
            </form>
        </div>
    </div>
    <script>

        function submitform() {

            var myform = document.getElementById("RegForm");
            var fd = new FormData(myform);
            
            jQuery.ajax({
                url: "Register/Registration",
                data: fd,
                cache: false,
                processData: false,
                contentType: false,
                type: 'POST',
                success: function () {
                    swal({ title: 'Success', 'text': ('Thank you for your intrest in becoming a member of THE IRIRI DINING CLUB. A member of the club will get in touch with you as soon as possible.'), 'type': 'success' })
                        .then(() => {
                          //  $("#loadImg").hide();
                            location.href = "/Home";//where you want to redirect after success
                        });
                },
                error: function () {

                    swal("Error", "Please try again", "error");
                }
                //success: function (dataofconfirm) {
                //    Swal.fire(" Registration Successful", "Thank you for indicating to becoming a member our team will get back to you once your membership is approved", "success").then(() => {
                //        window.location.href = "/Home";//where you want to redirect after success
                //    });
                //}
            });


        }

    </script>
</body>

</html>